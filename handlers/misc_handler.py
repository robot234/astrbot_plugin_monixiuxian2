# handlers/misc_handler.py
from astrbot.api.event import AstrMessageEvent
from ..data import DataBase

__all__ = ["MiscHandler"]


class MiscHandler:
    """杂项指令处理器 - 提供帮助信息"""

    def __init__(self, db: DataBase):
        self.db = db

    async def handle_help(self, event: AstrMessageEvent):
        """显示帮助信息"""
        help_text = (
            "══════ 修仙指令 v2.3.1 ══════\n"
            "\n"
            "📖【入门 & 基础】\n"
            "  我要修仙 [灵修/体修] - 开始修仙\n"
            "  我的信息 - 查看角色面板\n"
            "  签到 - 每日签到领奖励\n"
            "  改道号 <名称> - 修改道号\n"
            "\n"
            "🧘【修炼系统】\n"
            "  闭关 - 开始闭关修炼\n"
            "  出关 - 结束闭关获取修为\n"
            "  突破信息 - 查看突破条件\n"
            "  突破 [丹药名] - 尝试突破境界\n"
            "\n"
            "🎒【装备 & 丹药】\n"
            "  我的装备 - 查看已装备物品\n"
            "  装备 <装备名> - 装备物品\n"
            "  卸下 <装备名> - 卸下装备\n"
            "  丹药背包 - 查看拥有的丹药\n"
            "  服用丹药 <丹药名> - 使用丹药\n"
            "\n"
            "🏪【商店 & 交易】\n"
            "  丹阁 - 丹药商店\n"
            "  器阁 - 装备商店\n"
            "  百宝阁 - 杂货商店\n"
            "  购买 <物品名> [数量] - 购买物品\n"
            "  储物戒 - 查看储物空间\n"
            "  赠予 <@某人> <物品> [数量]\n"
            "\n"
            "🏦【灵石银行】\n"
            "  银行 - 查看账户余额\n"
            "  存灵石 <数量> - 存入灵石\n"
            "  取灵石 <数量> - 取出灵石\n"
            "  领取利息 - 领取每日复利\n"
            "\n"
            "📜【悬赏令】\n"
            "  悬赏令 - 查看可接任务\n"
            "  接取悬赏 <编号> - 接取任务\n"
            "  悬赏状态 - 查看当前任务进度\n"
            "  完成悬赏 - 提交完成的任务\n"
            "  放弃悬赏 - 放弃当前任务\n"
            "\n"
            "🏛️【宗门系统】\n"
            "  创建宗门 <名称> - 创建宗门\n"
            "  加入宗门 <名称> - 加入已有宗门\n"
            "  我的宗门 - 查看宗门信息\n"
            "  宗门列表 - 查看所有宗门\n"
            "  退出宗门 - 离开当前宗门\n"
            "  宗门捐献 <数量> - 捐献灵石\n"
            "\n"
            "⚔️【战斗 & 竞技】\n"
            "  切磋 <@某人> - 友好切磋(无损)\n"
            "  决斗 <@某人> - 生死决斗\n"
            "  世界Boss - 查看当前Boss\n"
            "  挑战Boss - 挑战世界Boss\n"
            "  传承挑战 <@某人> - 争夺传承\n"
            "  传承排行 - 传承排行榜\n"
            "\n"
            "📊【排行榜】\n"
            "  境界排行 | 战力排行\n"
            "  灵石排行 | 宗门排行\n"
            "\n"
            "🌟【历练 & 生产】\n"
            "  开始历练 - 开始历练\n"
            "  历练状态 - 查看历练进度\n"
            "  完成历练 - 结束历练\n"
            "  历练信息 - 查看概率和奖励\n"
            "  秘境列表 - 查看可探索秘境\n"
            "  探索秘境 <ID> - 进入秘境\n"
            "  丹药配方 - 查看炼丹配方\n"
            "  炼丹 <配方ID> - 炼制丹药\n"
            "  传承信息 - 查看传承加成\n"
            "\n"
            "══════════════════════════"
        )
        yield event.plain_result(help_text)
